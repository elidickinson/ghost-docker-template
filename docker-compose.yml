services:
  ghost:
    image: ghost:6
    container_name: ghost
    restart: unless-stopped
    ports:
      - "127.0.0.1:${PORT:-2368}:2368"
    env_file:
      - .env
    volumes:
      - ./ghost-data:/var/lib/ghost/content
    environment:
      NODE_ENV: ${NODE_ENV:-production}
      database__client: sqlite3  # so we can use sqlite in production mode too
      database__connection__filename: '/var/lib/ghost/content/data/ghost.db'
      mail__transport: SMTP
      mail__from: ${MAIL_FROM:-noreply@example.com}
      mail__options__host: ${MAIL_HOST:-smtp.mailgun.org}
      mail__options__port: ${MAIL_PORT:-587}
      mail__options__service: SMTP
      mail__options__auth__user: ${MAIL_USER}
      mail__options__auth__pass: ${MAIL_PASSWORD}

      # Admin URL - Set protocol and hostname for admin panel
      # admin__url: http://example.com

      # Server configuration - Host and port for Ghost to listen on
      # server__host: 127.0.0.1
      # server__port: 2368

      # Privacy settings - Disable features like update check, Gravatar, RPC ping, structured data
      # privacy__useTinfoil: true
      # privacy__useUpdateCheck: false
      # privacy__useGravatar: false
      # privacy__useRpcPing: false
      # privacy__useStructuredData: false

      # Security settings - Disable staff device verification
      # security__staffDeviceVerification: false

      # Paths configuration - Custom content path
      # paths__contentPath: content/

      # Referrer policy - Control meta referrer tag
      # referrerPolicy: origin-when-crossorigin

      # Use minified files - Generate assets URL with .min notation
      # useMinFiles: true

      # Storage adapter - Custom storage for images/media
      # storage__active: my-module
      # storage__my-module__key: value

      # Scheduling adapter - Custom scheduling for background jobs
      # scheduling__active: my-scheduler
      # scheduling__my-scheduler__key: value

      # Logging configuration - Control log level, rotation, and transports
      # logging__level: info
      # logging__path: content/logs/
      # logging__useLocalTime: true
      # logging__rotation__enabled: true
      # logging__rotation__count: 15
      # logging__rotation__period: 1d
      # logging__transports: '["stdout","file"]'

      # Spam settings - Configure spam request handling
      # spam__key: value

      # HTTP caching - Configure cache headers for different response types
      # caching__frontend__maxAge: 0
      # caching__contentAPI__maxAge: 0
      # caching__robotstxt__maxAge: 3600
      # caching__sitemap__maxAge: 3600
      # caching__sitemapXSL__maxAge: 86400
      # caching__wellKnown__maxAge: 86400
      # caching__cors__maxAge: 86400
      # caching__publicAssets__maxAge: 31536000
      # caching__301__maxAge: 31536000
      # caching__customRedirects__maxAge: 31536000

      # Compression - Disable compression of server responses
      # compress: false

      # Image optimization - Configure image processing and compression
      # imageOptimization__resize: false

      # OpenSea API - For NFT embeds (rate limited, requires API key in production)
      # opensea__privateReadOnlyApiKey: your-api-key

      # Tenor API - For GIF search in editor (requires Google API key)
      # tenor__googleApiKey: your-google-api-key

      # Twitter API - For Twitter cards in newsletters (requires Bearer Token)
      # twitter__privateReadOnlyToken: your-twitter-token

      # Portal scripts - Relocate or disable Portal scripts
      # portal__url: false
      # portal__url: https://cdn.jsdelivr.net/npm/@tryghost/portal@~{version}/umd/portal.min.js

      # Search scripts - Relocate or disable Sodo search
      # sodoSearch__url: false
      # sodoSearch__styles: false
      # sodoSearch__url: https://cdn.jsdelivr.net/npm/@tryghost/sodo-search@~{version}/umd/sodo-search.min.js
      # sodoSearch__styles: https://cdn.jsdelivr.net/npm/@tryghost/sodo-search@~{version}/umd/main.css

      # Comments scripts - Relocate or disable comments
      # comments__url: false
      # comments__styles: false
      # comments__url: https://cdn.jsdelivr.net/npm/@tryghost/comments-ui@~{version}/umd/comments-ui.min.js
      # comments__styles: https://cdn.jsdelivr.net/npm/@tryghost/comments-ui@~{version}/umd/main.css

      # Database pool settings - Limit simultaneous connections
      # database__pool__min: 2
      # database__pool__max: 20

      # Database SSL settings - For cloud databases
      # database__connection__ssl: Amazon RDS
      # database__connection__ssl__ca: -----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----
